---
tags: DSA C++ 
---

# 写在前面

之前介绍过一种计算整数二进制表示中位`1`个数的文章, 是介绍通过不断减去右移一位之后的值的方法来完成的, 后来发现还有一种更快更经典的方法, 下面来总结下. 



# 基本思路



## 转换字符串



一般来说, 计算位1 的个数可以通过下面的两种方法:

```python
def calcbit1_v1(n):
    return bin(n).count("1")


def calcbit1_v2(n):
    ans = 0
    while n:
        tmp = n & 1  # 取最末位
        ans += tmp
        n >>= 1  # 进位
    return ans
```

文中给出的方法是下面这样的:

```python
def calcbit1_v3(n):
    total = 0
    tmp = n
    while tmp:
        tmp >>= 1
        total += tmp
    return n - total


def calcbit1_v4(n):
    diff = n
    while n:
        n >>= 1
        diff -= n
    return diff
```




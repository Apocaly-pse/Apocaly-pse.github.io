---
tags: DSA LeetCode
---

# 写在前面

最近力扣周赛出了很多关于数字位数的题, 顾名思义, 就是对一个大整数的每一个位进行操作, 由于之前对这方面的内容不太熟悉, 真正写的时候就吃亏了. 下面写一下这方面的常用的一些技巧, 例如取出任意整数的每一位等等.



# 取出整数的每一位

通过对`10`取余或者整除, 可以从个位到最高位依次得到每一个位的值, 如下:

```python
n=12345
ans=[]
while n:
    ans.append(n%10)
    n//=10
print(ans)
# [5, 4, 3, 2, 1]
```

上面的是数学方法, 速度比较快, 下面是一个基于字符串的方法, 虽然慢但是直观(我初刷lc时候钟爱这种方法)

```python
n=12345
s=str(n)
ans=[int(c) for c in s]
print(ans)
# [1, 2, 3, 4, 5]
```

这种技巧虽然方便, 但是在遇到要对每一位进行加减等操作的时候, 还是比较麻烦的, 因为要考虑进位借位的情况.



# 从各个位组成的数组(字符串)中还原整数

这个技巧是上面的技巧的逆操作, 比较直观, 直接取第$i$位然后乘以$10^i$之后相加即可.(这里用的下标为`n-1-i`是为了从低位到高位开始还原)

```python
s = '12345'
ans = 0
for i in range(n := len(s)):
    ans += int(s[n - 1 - i]) * 10**i
print(ans, type(ans))
# 12345 <class 'int'>
```

当然不止这一种方法, 还有一种**正向**(高位到低位)遍历的方法:

```python
s = '12345'
ans = 0
for c in s:
    ans = int(c) + ans * 10
print(ans, type(ans))
# 12345 <class 'int'>
```

这里比较推荐第二种, 因为很多字符串遍历用的都是正序. 

# LC对应题型

这里的题型需要综合上面的两个技巧, 总体来看并不难.

1.   [7. 整数反转 - 力扣（LeetCode）](https://leetcode.cn/problems/reverse-integer/);(上面两种方法均可)

     ```python
     class Solution:
         def reverse(self, x: int) -> int:
             tmp=[]
             neg=False
             if x==0:return x
             if x<0:
                 x=-x
                 neg=True
             while x:
                 tmp.append(x%10)
                 x//=10
             dig=0
             for i in range(n:=len(tmp)):
                 dig+=tmp[n-1-i]*10**i
             if neg:
                 dig=-dig
             return dig if -2**31<=dig<=2**31-1 else 0
     ```

     采用数学做法会快一些, 而字符串相对简洁一些.

2.   [258. 各位相加 - 力扣（LeetCode）](https://leetcode.cn/problems/add-digits/);(可以模拟做, 不过有更简便的取余方法)
     需要了解一个结论, 任何数的各位数相加之后只取个位数的话所得到的值一定是这个数对`9`取余得到的余数, 证明如下:
     $$
     
     $$
     
3.   



# 逐位运算(加法)



1.   [415. 字符串相加 - 力扣（LeetCode）](https://leetcode.cn/problems/add-strings/);(两数从低位到高位逐位相加, 模拟竖式计算, 需要注意进位补零)
2.   

# 逐位运算(乘法)







## lc题目

1.   [43. 字符串相乘 - 力扣（LeetCode）](https://leetcode.cn/problems/multiply-strings/);(需要用到乘法竖式计算的模拟);

# 逐位运算(除法)









## lc题目

1.   [29. 两数相除 - 力扣（LeetCode）](https://leetcode.cn/problems/divide-two-integers/);